# kubernetes/pvc.yaml
# This file defines a PersistentVolumeClaim (PVC) template
# for the StatefulSet. Each replica of the StatefulSet will get
# its own PVC based on this template, ensuring independent persistent storage.

apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  # The name of the PVC. This will be dynamically generated by the StatefulSet
  # for each replica (e.g., www-data-nginx-0, www-data-nginx-1).
  name: www-data
spec:
  # Defines the access modes for the volume.
  # ReadWriteOnce: the volume can be mounted as read-write by a single node.
  accessModes:
    - ReadWriteOnce
  # Defines the storage class to be used. If not specified, the default
  # storage class will be used. For demonstration, we'll omit it,
  # assuming a default dynamic provisioner is available.
  # storageClassName: standard
  # Defines the requested storage capacity.
  resources:
    requests:
      storage: 1Gi # Request 1 Gigabyte of storage
